<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Story Engine - Story</title>
    <link rel="stylesheet" href="story-styles.css">
</head>
<body>
    <div class="book-container">
        <!-- Left page (stationary) -->
        <div class="left-page"></div>

        <!-- Book Cover Page -->
        <div class="page active" id="coverPage" data-page="cover">
            <div class="book-cover">
                <img 
                    class="book-cover-image" 
                    id="coverImage"
                    src="https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=1200&h=800&fit=crop" 
                    alt="Story Cover"
                    loading="eager"
                >
                <div class="cover-content">
                    <h1 class="book-title" id="coverTitle">The Enchanted Forest</h1>
                    <div class="cover-subtitle" id="coverSubtitle">An AI Generated Adventure</div>
                    <div class="tap-hint">Tap to Continue</div>
                </div>
                <div class="cover-footer">
                    <div class="cover-author" id="coverAuthor">Written by You</div>
                    <div class="cover-publish-date" id="coverPublishDate">Published â€”</div>
                </div>
            </div>
        </div>

        <!-- Chapter Title Page -->
        <div class="page" id="chapterPage" data-page="chapter">
            <div class="page-content">
                <div class="book-header">
                    <div class="book-title-small">The Enchanted Forest</div>
                </div>
                <div class="chapter-title-page">
                    <div class="chapter-number">Chapter I</div>
                    <h2 class="chapter-title">The Beginning</h2>
                    <div class="chapter-image">
                        <img src="https://via.placeholder.com/500x300/8b4513/f4e4c1?text=Chapter+I" alt="Chapter illustration">
                    </div>
                    <p class="chapter-tagline">Where our hero discovers a mysterious path in the woods</p>
                </div>
            </div>
        </div>

        <!-- Story Content Page -->
        <div class="page" id="storyPage1" data-page="story">
            <div class="page-content">
                <div class="page-header">
                    <span class="chapter-name">Chapter I: The Beginning</span>
                </div>
                
                <div class="story-content">
                    <div class="story-text">
                        <p>You stand at the edge of an ancient forest, where towering trees cast long shadows across a winding path. The air is thick with mystery, and you can hear the distant call of unknown creatures.</p>
                        <p>Before you lie three paths, each promising a different adventure.</p>
                    </div>
                    
                    <div class="story-image">
                        <img src="https://via.placeholder.com/600x400/2c3e50/ffffff?text=Forest+Path" alt="Story scene">
                    </div>
                    
                    <div class="story-options" id="options1">
                        <button class="story-option" data-option="1">
                            <span class="option-text">Take the dark forest path</span>
                        </button>
                        <button class="story-option" data-option="2">
                            <span class="option-text">Follow the glittering stream</span>
                        </button>
                        <button class="story-option" data-option="3">
                            <span class="option-text">Climb toward the mountain</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Conversation/Multi-step Page Example -->
        <div class="page" id="storyPage2" data-page="story">
            <div class="page-content">
                <div class="page-header">
                    <span class="chapter-name">Chapter I: The Beginning</span>
                </div>
                
                <div class="story-content">
                    <div class="story-text">
                        <p>As you venture down the dark forest path, a mysterious figure emerges from the shadows. Their eyes glow with an otherworldly light.</p>
                        <p>"Who dares enter my domain?" they whisper.</p>
                    </div>
                    
                    <div class="story-image">
                        <img src="https://via.placeholder.com/600x400/34495e/ffffff?text=Mysterious+Figure" alt="Story scene">
                    </div>
                    
                    <div class="story-options" id="options2">
                        <button class="story-option" data-option="1">
                            <span class="option-text">Introduce yourself politely</span>
                        </button>
                        <button class="story-option" data-option="2">
                            <span class="option-text">Draw your weapon</span>
                        </button>
                        <button class="story-option" data-option="3">
                            <span class="option-text">Run away quickly</span>
                        </button>
                    </div>

                    <!-- This will be shown after user selects an option -->
                    <div class="conversation-response hidden" id="response2">
                        <div class="response-divider"></div>
                        <div class="story-text response-text">
                            <p><strong>You:</strong> "Greetings, guardian of the forest. I am but a humble traveler seeking adventure."</p>
                            <p>The figure's expression softens. "A polite one, I see. Very well, I shall grant you passage, but first you must answer my riddle."</p>
                        </div>
                        
                        <div class="story-options">
                            <button class="story-option" data-option="4">
                                <span class="option-text">Accept the riddle challenge</span>
                            </button>
                            <button class="story-option" data-option="5">
                                <span class="option-text">Offer gold instead</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Riddle Page -->
        <div class="page" id="storyPage3" data-page="story">
            <div class="page-content">
                <div class="page-header">
                    <span class="chapter-name">Chapter I: The Beginning</span>
                </div>
                
                <div class="story-content">
                    <div class="story-text">
                        <p>The guardian's eyes gleam with ancient wisdom as they present their riddle:</p>
                        <blockquote>
                            "I speak without a mouth and hear without ears. I have no body, but I come alive with wind. What am I?"
                        </blockquote>
                        <p>You pause to consider your answer carefully.</p>
                    </div>
                    
                    <div class="story-image">
                        <img src="https://via.placeholder.com/600x400/2c3e50/ffffff?text=The+Riddle" alt="Story scene">
                    </div>
                    
                    <div class="story-options" id="options3">
                        <button class="story-option" data-option="1" data-is-last="true">
                            <span class="option-text">An echo</span>
                        </button>
                        <button class="story-option" data-option="2" data-is-last="true">
                            <span class="option-text">A ghost</span>
                        </button>
                        <button class="story-option" data-option="3" data-is-last="true">
                            <span class="option-text">The wind itself</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Book Controls -->
    <div class="book-controls" id="bookControls">
        <button class="control-button restart-button" id="restartButton">
            <svg class="control-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="23 4 23 10 17 10"></polyline>
                <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
            </svg>
            <span>Restart Book</span>
        </button>
        <button class="control-button export-button" id="exportButton">
            <svg class="control-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <line x1="12" y1="18" x2="12" y2="12"></line>
                <line x1="9" y1="15" x2="12" y2="18"></line>
                <line x1="15" y1="15" x2="12" y2="18"></line>
            </svg>
            <span>Export to PDF</span>
        </button>
    </div>

    <script type="module" src="/src/story.ts"></script>
</body>
</html>

